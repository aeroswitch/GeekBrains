/* ??????? users ???? ???????? ??????????????. ?????? created_at ? updated_at ???? ?????? ????? VARCHAR ? ? ??? ?????? ????? ?????????? ????????
 ? ??????? 20.10.2017 8:10. ?????????? ????????????? ???? ? ???? DATETIME, ???????? ????????? ????? ????????.*/

DROP TABLE IF EXISTS users;
CREATE TABLE users (
	id SERIAL PRIMARY KEY,
	name VARCHAR(255),
	birthday_at DATE,
	created_at VARCHAR(30),
	updated_at VARCHAR(30)
);

INSERT INTO users (name, birthday_at, created_at, updated_at) VALUES
  ('????????', '1990-10-05', '20.10.2017 8:10', '20.10.2017 8:10'),
  ('???????', '1984-11-12', '24.03.2019 9:13', '24.03.2019 9:13'),
  ('?????????', '1985-05-20', '01.02.2020 21:14', '01.02.2020 21:14'),
  ('??????', '1988-02-14', '01.02.2020 21:14', '01.02.2020 21:14'),
  ('????', '1998-01-12', '01.02.2020 21:14', '01.02.2020 21:14'),
  ('?????', '1992-08-29', '01.02.2020 21:14', '01.02.2020 21:14');
 
-- ???????????? VARHCHAR ? DATETIME
UPDATE users SET created_at = STR_TO_DATE(created_at, '%d.%m.%Y %T'), updated_at = STR_TO_DATE(updated_at, '%d.%m.%Y %T');
-- ???????? ??? ?????? ???????? created_at ? updated_at ? DATETIME
ALTER TABLE users CHANGE created_at created_at DATETIME, CHANGE updated_at updated_at DATETIME;